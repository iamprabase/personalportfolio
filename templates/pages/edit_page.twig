{% extends 'layout.twig' %}

{% block title %}{{ page ? 'Edit' : 'New' }} Page{% endblock %}

{% block content %}
<h2>{{ page ? 'Edit' : 'New' }} Page</h2>
<form action="{{ page ? '/admin/page/edit/' ~ page.id : '/admin/page/new' }}" method="post">
    <label for="title">Title:</label>
    <input type="text" name="title" id="title" value="{{ page.title | default('') }}" required>
    
    <label for="content">Content:</label>
    <textarea name="content" id="content-editor" required>{{ page.content | default('') }}</textarea>
    
    <label for="meta_title">Meta Title:</label>
    <input type="text" name="meta_title" id="meta_title" value="{{ page.meta_title | default('') }}">
    
    <label for="meta_description">Meta Description:</label>
    <textarea name="meta_description" id="meta_description">{{ page.meta_description | default('') }}</textarea>
    
    <label for="canonical_url">Canonical URL:</label>
    <input type="url" name="canonical_url" id="canonical_url" value="{{ page.canonical_url | default('') }}">
    
    <label for="language">Language:</label>
    <input type="text" name="language" id="language" value="{{ page.language | default('') }}">
    
    <button type="submit">{{ page ? 'Update' : 'Create' }} Page</button>
</form>

<!-- TinyMCE Integration -->
<script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
<script>
tinymce.init({
  selector: 'textarea#content-editor',
  plugins: 'link image code lists',
  toolbar: 'undo redo | styleselect | bold italic | alignleft aligncenter alignright | code'
});
</script>
{% endblock %}